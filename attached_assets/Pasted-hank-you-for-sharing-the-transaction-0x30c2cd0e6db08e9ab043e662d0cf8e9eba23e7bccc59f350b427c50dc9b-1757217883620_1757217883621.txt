hank you for sharing the transaction:
0x30c2cd0e6db08e9ab043e662d0cf8e9eba23e7bccc59f350b427c50dc9bb0ef5 (Arbitrum Sepolia)
￼
Transaction Analysis
• Status: Failed (Reverted)
• Function: mintWithTokens(address to, uint256 tokenId)
• Error: No explicit revert reason (empty data)
Decoded Input
• to: 0x4022797e9EC167Fd48281fa452Ee49d7c169f125
• tokenId: 1
￼
Possible Causes (Based on Contract Logic)
1. Already Minted
• The contract has require(!hasMinted[to], "Already minted");
• If 0x4022797e9EC167Fd48281fa452Ee49d7c169f125 has already minted, this will revert.
2. Insufficient Allowance
• The contract checks:
￼
￼
￼
￼
require(paymentToken.allowance(msg.sender, address(this)) >= mintPrice + platformFee, "Insufficient allowance");
￼
• If you did not approve the contract (0x99265477249389469929CEA07c4a337af9e12cdA) as spender, or the amount is less than 130 USDC (with correct decimals), this will revert.
3. Insufficient Balance
• The contract checks:
require(paymentToken.balanceOf(msg.sender) >= mintPrice + platformFee, "Insufficient balance");
• If your USDC balance is less than 130 USDC, this will revert.
4. Payment Token, Treasury, or Platform Not Set
• If any of these addresses are zero, the function will revert.
￼
What to Check Next
A. Has This Wallet Already Minted?
• Try calling the contract’s hasMinted(address) function for your address in a block explorer or via script.
B. Allowance
• Check your USDC contract’s allowance for:
• Owner: 0x4022797e9EC167Fd48281fa452Ee49d7c169f125
• Spender: 0x99265477249389469929CEA07c4a337af9e12cdA
• The allowance must be at least 130 USDC (with correct decimals).
C. USDC Balance
• Check your USDC balance for 0x4022797e9EC167Fd48281fa452Ee49d7c169f125.
D. Contract State
• Ensure paymentToken, treasury, and platform are set and not zero.
￼
How to Check Allowance in Code
￼
￼
￼
￼
const allowance = await tokenContract.read.allowance([
  "0x4022797e9EC167Fd48281fa452Ee49d7c169f125",
  "0x99265477249389469929CEA07c4a337af9e12cdA",
]);
console.log("Allowance:", allowance.toString());
￼
￼
Summary Table
￼
￼
￼
CHECK
HOW TO FIX/VERIFY
Already minted?
Use a fresh wallet or check hasMinted(address)
Allowance
Approve at least 130 USDC to contract address (with correct decimals)
USDC balance
Ensure wallet has at least 130 USDC
Contract state
Ensure paymentToken, treasury, platform are set and not zero
￼
Docs:
• ERC20 Approvals
• Debugging Contract Calls
￼
If you check these and still have issues, let me know which check fails or share the allowance/balance values for further help!