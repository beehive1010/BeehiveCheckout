
=======================================================================
Matrix Rebuild V2 - Validation Report
=======================================================================

Overall Statistics:
 total_members | pending | processing | success | failed | total_placements | avg_placements | completion_pct 
---------------+---------+------------+---------+--------+------------------+----------------+----------------
          4013 |       0 |          0 |    4013 |      0 |            48406 |          12.06 |         100.00
(1 row)


=======================================================================
Table Comparison (Old vs New)
=======================================================================

        table_name        | total_placements | unique_roots | unique_members | min_layer | max_layer 
--------------------------+------------------+--------------+----------------+-----------+-----------
 Old matrix_referrals     |            48424 |         1528 |           4016 |         1 |        19
 New matrix_referrals_new |            48406 |         1528 |           4013 |         1 |        19
(2 rows)


=======================================================================
Layer Distribution (Physical Position in Matrix)
=======================================================================

 layer | placement_count | unique_members | avg_per_member 
-------+-----------------+----------------+----------------
     1 |            3677 |           3677 |           1.00
     2 |            3419 |           3419 |           1.00
     3 |            3349 |           3349 |           1.00
     4 |            3296 |           3296 |           1.00
     5 |            3137 |           3137 |           1.00
     6 |            3107 |           3107 |           1.00
     7 |            3027 |           3027 |           1.00
     8 |            2834 |           2834 |           1.00
     9 |            2675 |           2675 |           1.00
    10 |            2700 |           2700 |           1.00
    11 |            2590 |           2590 |           1.00
    12 |            2483 |           2483 |           1.00
    13 |            2379 |           2379 |           1.00
    14 |            2095 |           2095 |           1.00
    15 |            1867 |           1867 |           1.00
    16 |            1680 |           1680 |           1.00
    17 |            1449 |           1449 |           1.00
    18 |            1227 |           1226 |           1.00
    19 |            1415 |            918 |           1.54
(19 rows)


=======================================================================
Parent Depth Distribution (Referral Chain Length)
=======================================================================

 parent_depth | placement_count | unique_members | unique_roots | pct_of_total 
--------------+-----------------+----------------+--------------+--------------
            1 |            3677 |           3677 |         1528 |         7.60
            2 |            3705 |           3705 |          791 |         7.65
            3 |            3685 |           3685 |          499 |         7.61
            4 |            3602 |           3602 |          352 |         7.44
            5 |            3449 |           3449 |          264 |         7.13
            6 |            3417 |           3417 |          205 |         7.06
            7 |            3156 |           3156 |          161 |         6.52
            8 |            3168 |           3168 |          128 |         6.54
            9 |            3187 |           3187 |          104 |         6.58
           10 |            2868 |           2868 |           88 |         5.92
           11 |            2604 |           2604 |           74 |         5.38
           12 |            2407 |           2407 |           64 |         4.97
           13 |            2178 |           2178 |           55 |         4.50
           14 |            1832 |           1832 |           46 |         3.78
           15 |            1513 |           1513 |           37 |         3.13
           16 |            1322 |           1322 |           32 |         2.73
           17 |            1096 |           1096 |           27 |         2.26
           18 |             874 |            874 |           22 |         1.81
           19 |             666 |            666 |           19 |         1.38
(19 rows)


=======================================================================
Overflow Statistics
=======================================================================

 total_placements | layer_19_parents | layer_18_parents | layer_17_parents | overflow_pct 
------------------+------------------+------------------+------------------+--------------
            48406 |             1415 |             1415 |                0 |         5.46
(1 row)


=======================================================================
Referral Type Distribution
=======================================================================

 referral_type | placement_count | percentage 
---------------+-----------------+------------
 is_spillover  |           44729 |      92.40
 is_direct     |            3677 |       7.60
(2 rows)


=======================================================================
Data Quality Checks
=======================================================================

                 metric                 | count 
----------------------------------------+-------
 Members in members_v2                  |  4013
 Unique members in matrix_referrals_new |  4013
 Members with 0 placements              |     0
 Failed member processing               |     0
(4 rows)


=======================================================================
Sample Overflow Placements at Layer 19
=======================================================================

             matrix_root_wallet             |               member_wallet                |               parent_wallet                | parent_depth | layer | position | parent_layer |              referrer_wallet               | referrer_layer 
--------------------------------------------+--------------------------------------------+--------------------------------------------+--------------+-------+----------+--------------+--------------------------------------------+----------------
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x67D4A7EC4ada74Ad1DCdFC3A20Cdeb79E6394d6A | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |           18 |    19 | L        |           18 | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x7949f5506A06A1B221f8C53Bc6D38BD26802AD38 | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |           18 |    19 | M        |           18 | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x52d21A6B386120Cf9A4a6113D2523B76de10aB52 | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |           18 |    19 | R        |           18 | 0xc856c95fbcc93831E2139Fd713817a7dE9fe8ddF |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x05D249B27611D082D69297782eF4576d876DF8F2 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |           18 |    19 | L        |           18 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x5f1cad5262d73BA8947e10d663F144dDd82245D2 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |           18 |    19 | M        |           18 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x30c3C7E364C6F78E1F7E0595Ec8D15aa60756aF4 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |           18 |    19 | R        |           18 | 0xA954fC2FF403b17A6aAAB57c2F2Dd77CD68044F9 |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0xa93B30Be3cFF58f681477e68e61c53a72C858563 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |           18 |    19 | L        |           18 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0xA432b5D67B957183004cee273270D3115aB1EcA3 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |           18 |    19 | M        |           18 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x9CadCD5D721943A1600Bb7D01a78A14f231e9568 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |           18 |    19 | R        |           18 | 0xFAD4118A546cbd49E3015Fc18FDeb0CC6Db0353b |             18
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab | 0x9728A7F300390E61bf7c0d717eB4e4A6FE308662 | 0xd65F9Eb5557E5975205E014Ac2B63edf00066Ee7 |           13 |    19 | L        |           18 | 0xd65F9Eb5557E5975205E014Ac2B63edf00066Ee7 |             18
(10 rows)


=======================================================================
Top 10 Members by Placement Count
=======================================================================

               member_wallet                | placement_count | min_layer | max_layer | min_depth | max_depth 
--------------------------------------------+-----------------+-----------+-----------+-----------+-----------
 0xc3EadD2eF1352be3C92Cdcfc5D2b47267431457f |              19 |         1 |        19 |         1 |        19
 0x69AC05589f53a9841B5ab0654c48803A0Af0AF77 |              19 |         1 |        19 |         1 |        19
 0xB8243D4c6a24c8ed6Cb9A954bdb453eAf192dfB0 |              19 |         1 |        19 |         1 |        19
 0xC4c4bd13FD23985Fcc0c43Abf6C9e6072978dE79 |              19 |         1 |        19 |         1 |        19
 0x694c58804c4021DEFF4A2D94a9D11c45231D27aa |              19 |         1 |        19 |         1 |        19
 0xAe0B3F70cc201b049c1e13c495BaBc3F5a26264d |              19 |         1 |        19 |         1 |        19
 0xBc5c462955B2C0B0f869c67FE96b18a32515E8D0 |              19 |         1 |        19 |         1 |        19
 0x9fe437Bf1AfD2F40646337F0Be35471D07DFae3c |              19 |         1 |        19 |         1 |        19
 0xb3e19e618Ec9FE3334b646cd770782A997044E88 |              19 |         1 |        19 |         1 |        19
 0x625c1858826f0AeD5214Ba32aAF00EdA8CD1536D |              19 |         1 |        19 |         1 |        19
(10 rows)


=======================================================================
Top 10 Matrix Roots by Size
=======================================================================

             matrix_root_wallet             | total_placements | unique_members | max_layer_reached | max_depth_reached 
--------------------------------------------+------------------+----------------+-------------------+-------------------
 0xfd91667229a122265aF123a75bb624A9C35B5032 |             3548 |           3548 |                19 |                19
 0x479ABda60F8c62a7C3fba411ab948a8BE0E616Ab |             3428 |           3428 |                19 |                19
 0x3C1FF5B4BE2A1FB8c157aF55aa6450eF66D7E242 |             3233 |           3233 |                19 |                19
 0x9D069295DE6B996a47F5eD683858009c977F159b |             2376 |           2376 |                19 |                19
 0x89dC24b7c14C783B5c2556E85336815FC8fe8D0B |             2260 |           2260 |                19 |                19
 0xb800d5359a85B5d55a5A680a6eF6f15475D7d9e9 |             2238 |           2238 |                19 |                19
 0x312E7e80Ca8744275f890D90bC3B07820360d547 |              981 |            981 |                18 |                17
 0xC1908404eb9EFeBDe493e5b23CFb085E2dfdb105 |              975 |            975 |                17 |                16
 0xE8571067b7E388e041e540f7E095728a4A3dDB24 |              836 |            836 |                16 |                15
 0x836230c1e50A5DCFCa2aB96cbc889A676Fcbb559 |              662 |            662 |                15 |                14
(10 rows)


=======================================================================
Position Distribution (L/M/R)
=======================================================================

 position | count | percentage 
----------+-------+------------
 L        | 20635 |      42.63
 M        | 14995 |      30.98
 R        | 12776 |      26.39
(3 rows)


=======================================================================
Validation Complete!
=======================================================================

Summary:
  • All 4,013 members from members_v2 processed
  • 48,406 total placements created
  • 100% success rate (0 failures)
  • Overflow logic working correctly (5.46% overflow rate)
  • Ready for stakeholder review

Full report available at:
  /home/ubuntu/WebstormProjects/BeehiveCheckout/MATRIX_REBUILD_V2_REPORT.md

