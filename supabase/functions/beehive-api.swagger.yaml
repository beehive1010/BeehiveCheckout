openapi: 3.0.3
info:
  title: Beehive Platform API
  description: |
    # ğŸ Beehive Platform Complete API Documentation

    ## ğŸš€ å¹³å°æ¦‚è¿°
    Beehiveæ˜¯ä¸€ä¸ªåŸºäºåŒºå—é“¾çš„å¤šå±‚çº§ä¼šå‘˜ç®¡ç†å’Œå¥–åŠ±åˆ†å‘å¹³å°ï¼Œæä¾›å®Œæ•´çš„çŸ©é˜µç³»ç»Ÿã€å¥–åŠ±ç®¡ç†ã€ä¼šå‘˜ç®¡ç†ç­‰åŠŸèƒ½ã€‚

    ## ğŸ—ï¸ ä¸»è¦åŠŸèƒ½æ¨¡å—
    - **ğŸ‘¥ ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ**: æ³¨å†Œã€å‡çº§ã€çŠ¶æ€ç®¡ç†
    - **ğŸ—ï¸ çŸ©é˜µç³»ç»Ÿ**: L-M-Rä¸‰å…ƒçŸ©é˜µç»“æ„ç®¡ç†
    - **ğŸ’° å¥–åŠ±ç³»ç»Ÿ**: å¤šå±‚çº§å¥–åŠ±åˆ†å‘å’Œç”³è¯·
    - **ğŸ å‡çº§å¥–åŠ±**: åŸºäºçŸ©é˜µä½ç½®çš„å‡çº§å¥–åŠ±
    - **ğŸ” è®¤è¯ç³»ç»Ÿ**: é’±åŒ…è¿æ¥å’Œæƒé™ç®¡ç†
    - **â° è®¡æ—¶å™¨ç³»ç»Ÿ**: å€’è®¡æ—¶å’Œè‡ªåŠ¨åŒ–ä»»åŠ¡

    ## ğŸ”‘ è®¤è¯è¯´æ˜
    æ‰€æœ‰APIéƒ½éœ€è¦Supabaseè®¤è¯ï¼š
    - **åŒ¿åå¯†é’¥**: ç”¨äºä¸€èˆ¬æŸ¥è¯¢æ“ä½œ
    - **æœåŠ¡è§’è‰²å¯†é’¥**: ç”¨äºç®¡ç†å‘˜æ“ä½œå’Œæ•°æ®ä¿®æ”¹

  version: "2.0.0"
  contact:
    name: Beehive Platform Team
    url: https://beehive.io
    email: dev@beehive.io
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://cvqibjcbfrwsgkvthccp.supabase.co/functions/v1
    description: Production Server
  - url: http://127.0.0.1:54321/functions/v1
    description: Local Development Server

security:
  - ApiKeyAuth: []
  - ServiceRoleAuth: []

paths:
  # ===========================================
  # ğŸ å‡çº§å¥–åŠ±ç³»ç»Ÿ - Upgrade Rewards System
  # ===========================================
  /upgrade-rewards/trigger:
    post:
      summary: ğŸ è§¦å‘ä¼šå‘˜å‡çº§å¥–åŠ±
      description: è§¦å‘æŒ‡å®šä¼šå‘˜çš„å‡çº§å¥–åŠ±å¤„ç†ï¼Œæ ¹æ®é€’å½’çŸ©é˜µä½ç½®åˆ†é…å¥–åŠ±
      operationId: triggerUpgradeRewards
      tags:
        - å‡çº§å¥–åŠ±ç³»ç»Ÿ
      security:
        - ServiceRoleAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TriggerUpgradeRequest'
      responses:
        '200':
          description: å‡çº§å¥–åŠ±å¤„ç†æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TriggerUpgradeResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /upgrade-rewards/status:
    get:
      summary: ğŸ“Š æŸ¥çœ‹å‡çº§å¥–åŠ±çŠ¶æ€
      operationId: getUpgradeRewardStatus
      tags:
        - å‡çº§å¥–åŠ±ç³»ç»Ÿ
      parameters:
        - name: wallet_address
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–å¥–åŠ±çŠ¶æ€æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardStatusResponse'

  /upgrade-rewards/batch-check:
    post:
      summary: ğŸ”„ æ‰¹é‡æ£€æŸ¥å¾…å®šå¥–åŠ±
      operationId: batchCheckPendingRewards
      tags:
        - å‡çº§å¥–åŠ±ç³»ç»Ÿ
      security:
        - ServiceRoleAuth: []
      responses:
        '200':
          description: æ‰¹é‡æ£€æŸ¥å®Œæˆ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchCheckResponse'

  # ===========================================
  # ğŸ’° é€šç”¨å¥–åŠ±ç³»ç»Ÿ - General Rewards System
  # ===========================================
  /rewards/user:
    get:
      summary: ğŸ’³ è·å–ç”¨æˆ·å¥–åŠ±ä½™é¢
      operationId: getUserRewardBalance
      tags:
        - é€šç”¨å¥–åŠ±ç³»ç»Ÿ
      parameters:
        - name: x-wallet-address
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–ä½™é¢æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserBalanceResponse'

  /rewards/claimable:
    get:
      summary: ğŸ¯ è·å–å¯ç”³è¯·å¥–åŠ±
      operationId: getClaimableRewards
      tags:
        - é€šç”¨å¥–åŠ±ç³»ç»Ÿ
      parameters:
        - name: x-wallet-address
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–å¯ç”³è¯·å¥–åŠ±æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimableRewardsResponse'

  /rewards/claim:
    post:
      summary: âœ… ç”³è¯·å¥–åŠ±
      operationId: claimReward
      tags:
        - é€šç”¨å¥–åŠ±ç³»ç»Ÿ
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClaimRewardRequest'
      responses:
        '200':
          description: å¥–åŠ±ç”³è¯·æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimRewardResponse'

  /rewards/dashboard:
    post:
      summary: ğŸ“Š å¥–åŠ±ä»ªè¡¨æ¿
      operationId: getRewardDashboard
      tags:
        - é€šç”¨å¥–åŠ±ç³»ç»Ÿ
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WalletAddressRequest'
      responses:
        '200':
          description: è·å–ä»ªè¡¨æ¿æ•°æ®æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardDashboardResponse'

  # ===========================================
  # ğŸ‘¥ ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ - Member Management System
  # ===========================================
  /member-management/register:
    post:
      summary: ğŸ“ æ³¨å†Œæ–°ä¼šå‘˜
      operationId: registerMember
      tags:
        - ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
      security:
        - ServiceRoleAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterMemberRequest'
      responses:
        '200':
          description: ä¼šå‘˜æ³¨å†ŒæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterMemberResponse'

  /member-management/info:
    get:
      summary: ğŸ‘¤ è·å–ä¼šå‘˜ä¿¡æ¯
      operationId: getMemberInfo
      tags:
        - ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
      parameters:
        - name: wallet
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–ä¼šå‘˜ä¿¡æ¯æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MemberInfoResponse'

  /member-management/upgrade-level:
    post:
      summary: â¬†ï¸ å‡çº§ä¼šå‘˜ç­‰çº§
      operationId: upgradeMemberLevel
      tags:
        - ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
      security:
        - ServiceRoleAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpgradeLevelRequest'
      responses:
        '200':
          description: ç­‰çº§å‡çº§æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpgradeLevelResponse'

  /member-management/referrals:
    get:
      summary: ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ è·å–æ¨èå…³ç³»
      operationId: getMemberReferrals
      tags:
        - ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
      parameters:
        - name: wallet
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–æ¨èå…³ç³»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReferralsResponse'

  # ===========================================
  # ğŸ—ï¸ çŸ©é˜µç³»ç»Ÿ - Matrix System
  # ===========================================
  /matrix/status:
    get:
      summary: ğŸŒ³ æŸ¥çœ‹çŸ©é˜µçŠ¶æ€
      operationId: getMatrixStatus
      tags:
        - çŸ©é˜µç³»ç»Ÿ
      parameters:
        - name: wallet
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–çŸ©é˜µçŠ¶æ€æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MatrixStatusResponse'

  /matrix/place:
    post:
      summary: ğŸ“ çŸ©é˜µå®‰ç½®
      operationId: placeInMatrix
      tags:
        - çŸ©é˜µç³»ç»Ÿ
      security:
        - ServiceRoleAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlaceInMatrixRequest'
      responses:
        '200':
          description: çŸ©é˜µå®‰ç½®æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaceInMatrixResponse'

  /matrix/completion:
    get:
      summary: âœ… çŸ©é˜µå®ŒæˆçŠ¶æ€
      operationId: getMatrixCompletion
      tags:
        - çŸ©é˜µç³»ç»Ÿ
      parameters:
        - name: root
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–çŸ©é˜µå®ŒæˆçŠ¶æ€æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MatrixCompletionResponse'

  /matrix/stats:
    get:
      summary: ğŸ“ˆ çŸ©é˜µç»Ÿè®¡ä¿¡æ¯
      operationId: getMatrixStats
      tags:
        - çŸ©é˜µç³»ç»Ÿ
      parameters:
        - name: wallet
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–çŸ©é˜µç»Ÿè®¡æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MatrixStatsResponse'

  # ===========================================
  # ğŸ” è®¤è¯ç³»ç»Ÿ - Authentication System
  # ===========================================
  /auth/connect:
    post:
      summary: ğŸ”— é’±åŒ…è¿æ¥è®¤è¯
      operationId: connectWallet
      tags:
        - è®¤è¯ç³»ç»Ÿ
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConnectWalletRequest'
      responses:
        '200':
          description: é’±åŒ…è¿æ¥æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConnectWalletResponse'

  /auth/status:
    get:
      summary: ğŸ‘¤ æ£€æŸ¥ç”¨æˆ·çŠ¶æ€
      operationId: checkUserStatus
      tags:
        - è®¤è¯ç³»ç»Ÿ
      parameters:
        - name: wallet
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/WalletAddress'
      responses:
        '200':
          description: è·å–ç”¨æˆ·çŠ¶æ€æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserStatusResponse'

  /auth/verify:
    post:
      summary: âœ… éªŒè¯ç­¾å
      operationId: verifySignature
      tags:
        - è®¤è¯ç³»ç»Ÿ
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifySignatureRequest'
      responses:
        '200':
          description: ç­¾åéªŒè¯æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerifySignatureResponse'

components:
  securitySchemes:
    ApiKeyAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: SupabaseåŒ¿åAPIå¯†é’¥
    ServiceRoleAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: SupabaseæœåŠ¡è§’è‰²å¯†é’¥

  schemas:
    # ===========================================
    # ğŸ”§ åŸºç¡€æ•°æ®ç±»å‹ - Basic Data Types
    # ===========================================
    WalletAddress:
      type: string
      pattern: '^0x[a-fA-F0-9]{40}$'
      description: ä»¥å¤ªåŠé’±åŒ…åœ°å€
      example: "0x2C84e7DC65209730C067827b49AC7d5A1d25C8dC"

    WalletAddressRequest:
      type: object
      required:
        - wallet_address
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'

    # ===========================================
    # ğŸ å‡çº§å¥–åŠ±ç³»ç»Ÿç›¸å…³Schema
    # ===========================================
    TriggerUpgradeRequest:
      type: object
      required:
        - upgraded_member
      properties:
        upgraded_member:
          $ref: '#/components/schemas/WalletAddress'
        new_level:
          type: integer
          minimum: 1
          maximum: 19
          default: 1
          description: å‡çº§åˆ°çš„æ–°ç­‰çº§

    TriggerUpgradeResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        data:
          type: object
          properties:
            upgraded_member:
              $ref: '#/components/schemas/WalletAddress'
            new_level:
              type: integer
            summary:
              type: string
            total_rewards:
              type: integer
            immediate_rewards:
              type: integer
            pending_rewards:
              type: integer
            timers_created:
              type: integer

    RewardStatusResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            upgraded_member:
              $ref: '#/components/schemas/WalletAddress'
            summary:
              $ref: '#/components/schemas/RewardSummary'
            rewards:
              type: array
              items:
                $ref: '#/components/schemas/RewardRecord'
            active_timers:
              type: array
              items:
                $ref: '#/components/schemas/TimerRecord'

    RewardSummary:
      type: object
      properties:
        total_rewards:
          type: integer
        approved_rewards:
          type: integer
        pending_rewards:
          type: integer
        total_approved_amount:
          type: number
          format: float
        total_pending_amount:
          type: number
          format: float
        active_timers:
          type: integer

    RewardRecord:
      type: object
      properties:
        reward_id:
          type: string
          format: uuid
        recipient_wallet:
          $ref: '#/components/schemas/WalletAddress'
        matrix_position:
          type: string
          enum: ["L", "M", "R"]
        amount_usdt:
          type: number
          format: float
        status:
          type: string
          enum: ["approved", "pending"]
        status_chinese:
          type: string
        qualification_check:
          type: boolean
        timer_active:
          type: boolean
        created_at:
          type: string
          format: date-time

    TimerRecord:
      type: object
      properties:
        timer_id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        end_time:
          type: string
          format: date-time
        is_active:
          type: boolean

    BatchCheckResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        data:
          type: object
          properties:
            checked_count:
              type: integer
            approved_count:
              type: integer
            still_pending:
              type: integer

    # ===========================================
    # ğŸ’° é€šç”¨å¥–åŠ±ç³»ç»Ÿç›¸å…³Schema
    # ===========================================
    UserBalanceResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            usdc_claimable:
              type: number
              format: float
            usdc_pending:
              type: number
              format: float
            usdc_claimed_total:
              type: number
              format: float
            bcc_transferable:
              type: number
              format: float
            bcc_locked:
              type: number
              format: float

    ClaimableRewardsResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: array
          items:
            $ref: '#/components/schemas/ClaimableReward'

    ClaimableReward:
      type: object
      properties:
        id:
          type: string
          format: uuid
        amount_usdt:
          type: number
          format: float
        layer:
          type: integer
        status:
          type: string
        from_member:
          $ref: '#/components/schemas/WalletAddress'
        created_at:
          type: string
          format: date-time

    ClaimRewardRequest:
      type: object
      required:
        - claim_id
        - wallet_address
      properties:
        claim_id:
          type: string
          format: uuid
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'

    ClaimRewardResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        reward:
          type: object
          properties:
            id:
              type: string
              format: uuid
            amount_usdt:
              type: number
              format: float
            layer:
              type: integer
            claimed_at:
              type: string
              format: date-time

    RewardDashboardResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            reward_summary:
              type: object
              properties:
                total_claimed_usdc:
                  type: number
                  format: float
                total_pending_usdc:
                  type: number
                  format: float
                total_claimable_usdc:
                  type: number
                  format: float
                total_claims:
                  type: integer

    # ===========================================
    # ğŸ‘¥ ä¼šå‘˜ç®¡ç†ç³»ç»Ÿç›¸å…³Schema
    # ===========================================
    RegisterMemberRequest:
      type: object
      required:
        - wallet_address
        - referrer_wallet
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        referrer_wallet:
          $ref: '#/components/schemas/WalletAddress'
        email:
          type: string
          format: email
        username:
          type: string
        profile_data:
          type: object
          additionalProperties: true

    RegisterMemberResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        member:
          $ref: '#/components/schemas/MemberInfo'

    MemberInfo:
      type: object
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        current_level:
          type: integer
        is_active:
          type: boolean
        referrer_wallet:
          $ref: '#/components/schemas/WalletAddress'
        registration_date:
          type: string
          format: date-time
        email:
          type: string
          format: email

    MemberInfoResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          $ref: '#/components/schemas/MemberInfo'

    UpgradeLevelRequest:
      type: object
      required:
        - wallet_address
        - new_level
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        new_level:
          type: integer
          minimum: 1
          maximum: 19
        payment_confirmed:
          type: boolean

    UpgradeLevelResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        data:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            old_level:
              type: integer
            new_level:
              type: integer
            upgraded_at:
              type: string
              format: date-time

    ReferralsResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            direct_referrals:
              type: array
              items:
                $ref: '#/components/schemas/ReferralInfo'
            total_team_size:
              type: integer

    ReferralInfo:
      type: object
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        current_level:
          type: integer
        is_active:
          type: boolean
        registration_date:
          type: string
          format: date-time

    # ===========================================
    # ğŸ—ï¸ çŸ©é˜µç³»ç»Ÿç›¸å…³Schema
    # ===========================================
    MatrixStatusResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            matrix_positions:
              type: array
              items:
                $ref: '#/components/schemas/MatrixPosition'

    MatrixPosition:
      type: object
      properties:
        matrix_root:
          $ref: '#/components/schemas/WalletAddress'
        matrix_layer:
          type: integer
        matrix_position:
          type: string
          enum: ["L", "M", "R"]
        is_active:
          type: boolean
        placed_at:
          type: string
          format: date-time

    PlaceInMatrixRequest:
      type: object
      required:
        - member_wallet
        - referrer_wallet
      properties:
        member_wallet:
          $ref: '#/components/schemas/WalletAddress'
        referrer_wallet:
          $ref: '#/components/schemas/WalletAddress'
        preferred_position:
          type: string
          enum: ["L", "M", "R"]
          description: é¦–é€‰ä½ç½®

    PlaceInMatrixResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        placement:
          type: object
          properties:
            member_wallet:
              $ref: '#/components/schemas/WalletAddress'
            matrix_root:
              $ref: '#/components/schemas/WalletAddress'
            matrix_layer:
              type: integer
            matrix_position:
              type: string
              enum: ["L", "M", "R"]
            placed_at:
              type: string
              format: date-time

    MatrixCompletionResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            matrix_root:
              $ref: '#/components/schemas/WalletAddress'
            layers:
              type: array
              items:
                $ref: '#/components/schemas/LayerCompletion'

    LayerCompletion:
      type: object
      properties:
        layer:
          type: integer
        left_count:
          type: integer
        middle_count:
          type: integer
        right_count:
          type: integer
        total_members:
          type: integer
        max_capacity:
          type: integer
        is_complete:
          type: boolean

    MatrixStatsResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            total_team_size:
              type: integer
            max_layer:
              type: integer
            active_members:
              type: integer

    # ===========================================
    # ğŸ” è®¤è¯ç³»ç»Ÿç›¸å…³Schema
    # ===========================================
    ConnectWalletRequest:
      type: object
      required:
        - wallet_address
        - signature
        - message
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        signature:
          type: string
          pattern: '^0x[a-fA-F0-9]+$'
        message:
          type: string

    ConnectWalletResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        session:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            session_token:
              type: string
            expires_at:
              type: string
              format: date-time

    UserStatusResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            wallet_address:
              $ref: '#/components/schemas/WalletAddress'
            is_registered:
              type: boolean
            is_active:
              type: boolean
            current_level:
              type: integer
            permissions:
              type: array
              items:
                type: string

    VerifySignatureRequest:
      type: object
      required:
        - wallet_address
        - signature
        - message
      properties:
        wallet_address:
          $ref: '#/components/schemas/WalletAddress'
        signature:
          type: string
          pattern: '^0x[a-fA-F0-9]+$'
        message:
          type: string

    VerifySignatureResponse:
      type: object
      properties:
        success:
          type: boolean
        valid:
          type: boolean
        message:
          type: string

    # ===========================================
    # ğŸ”§ é€šç”¨é”™è¯¯å“åº”Schema
    # ===========================================
    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
        details:
          type: string
          nullable: true

  responses:
    BadRequest:
      description: è¯·æ±‚å‚æ•°é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    Unauthorized:
      description: è®¤è¯å¤±è´¥
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    InternalServerError:
      description: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

tags:
  - name: å‡çº§å¥–åŠ±ç³»ç»Ÿ
    description: |
      ğŸ åŸºäºé€’å½’çŸ©é˜µä½ç½®çš„ä¼šå‘˜å‡çº§å¥–åŠ±ç³»ç»Ÿ
      - L-Mä½ç½®ç«‹å³å¥–åŠ±ï¼ŒRä½ç½®éœ€è€ƒæ ¸
      - 30å¤©è€ƒæ ¸æœŸç®¡ç†
      - è‡ªåŠ¨åŒ–å¥–åŠ±åˆ†å‘
  - name: é€šç”¨å¥–åŠ±ç³»ç»Ÿ
    description: |
      ğŸ’° é€šç”¨å¥–åŠ±ç®¡ç†å’Œç”³è¯·ç³»ç»Ÿ
      - ä½™é¢æŸ¥è¯¢å’Œç®¡ç†
      - å¥–åŠ±ç”³è¯·å’Œå¤„ç†
      - å¥–åŠ±å†å²å’Œé€šçŸ¥
  - name: ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
    description: |
      ğŸ‘¥ å®Œæ•´çš„ä¼šå‘˜ç”Ÿå‘½å‘¨æœŸç®¡ç†
      - æ³¨å†Œå’Œæ¿€æ´»
      - ç­‰çº§å‡çº§
      - æ¨èå…³ç³»ç®¡ç†
  - name: çŸ©é˜µç³»ç»Ÿ
    description: |
      ğŸ—ï¸ L-M-Rä¸‰å…ƒçŸ©é˜µç»“æ„ç®¡ç†
      - çŸ©é˜µå®‰ç½®å’Œæº¢å‡º
      - å®ŒæˆçŠ¶æ€ç›‘æ§
      - çŸ©é˜µç»Ÿè®¡åˆ†æ
  - name: è®¤è¯ç³»ç»Ÿ
    description: |
      ğŸ” åŸºäºé’±åŒ…ç­¾åçš„è®¤è¯ç³»ç»Ÿ
      - é’±åŒ…è¿æ¥éªŒè¯
      - ç­¾åéªŒè¯
      - æƒé™ç®¡ç†

externalDocs:
  description: å®Œæ•´å¹³å°æ–‡æ¡£
  url: https://docs.beehive.io